---
import communities from "@/data/communities.json";
---

<div class="relative z-0 w-full bg-white px-6 pb-6 md:px-20 md:pb-24">
  <section class="flex w-full flex-col justify-center">
    <!-- Header Section (About-style) -->
    <div class="relative z-10 container mx-auto mb-2 px-0">
      <div class="mb-10 md:mb-16">
        <div
          class="text-primary mb-4 flex items-center gap-2 font-mono text-[10px] font-bold md:text-xs"
        >
          <span class="animate-pulse">●</span>
          <span>SYSTEM_COMMUNITIES_LOG</span>
        </div>

        <div
          class="flex flex-col items-start justify-between border-b border-gray-900 pb-6 md:flex-row md:items-end md:pb-8"
        >
          <div>
            <h2
              class="text-4xl leading-none font-black tracking-tight text-gray-900 uppercase md:text-8xl"
            >
              Communities
              <span
                class="text-primary mt-1 block text-2xl md:mt-0 md:text-6xl"
              >
                Participating
              </span>
            </h2>
          </div>

          <div class="mt-6 max-w-sm md:mt-0 md:text-right">
            <p
              class="mb-1 text-[10px] font-bold tracking-widest text-gray-400 uppercase md:mb-2 md:text-xs"
            >
              Explore • Collaborate • Learn
            </p>
            <p
              class="text-xs leading-relaxed font-medium text-gray-900 md:text-sm"
            >
              The communities driving innovation and open-source at Sahyadri.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Communities stacked vertically -->
    <div class="space-y-12">
      {
        communities.map((c, idx) => (
          <>
            <article
              class="flex w-full flex-col items-start gap-8 md:flex-row md:items-center"
              id={`community-${c.id}`}
            >
              {/* Smaller Image on the left */}
              <div class="w-full flex-shrink-0 md:w-1/4">
                <img
                  src={c.logo}
                  alt={`${c.name} Logo`}
                  class="h-auto w-full object-contain"
                />
              </div>

              {/* Content on the right */}
              <div class="flex-1">
                <h3 class="text-primary mb-4 text-4xl font-black md:text-5xl">
                  {c.name}
                </h3>
                <p class="mb-6 text-gray-600 md:text-lg">{c.description}</p>

                <div class="space-y-4">
                  {c.points.map((point) => (
                    <div class="border-primary border-l-2 pl-4">
                      <p class="text-sm font-semibold text-gray-900">
                        {point.title}
                      </p>
                      <p class="mt-1 text-sm text-gray-600">{point.content}</p>
                    </div>
                  ))}
                </div>
              </div>
            </article>

            {idx !== communities.length - 1 && (
              <div class="ml-0 h-px w-2/3 bg-gray-400 md:ml-[15%]" />
            )}
          </>
        ))
      }
    </div>
  </section>
</div>
